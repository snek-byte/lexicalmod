{
  "version": 3,
  "sources": ["../../@lexical/react/LexicalErrorBoundary.dev.js", "../../@lexical/react/LexicalErrorBoundary.js"],
  "sourcesContent": ["/**\r\n * Copyright (c) Meta Platforms, Inc. and affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\r\n'use strict';\r\n\r\nvar React = require('react');\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\r\n    o.__proto__ = p;\r\n    return o;\r\n  };\r\n  return _setPrototypeOf(o, p);\r\n}\r\n\r\nfunction _inheritsLoose(subClass, superClass) {\r\n  subClass.prototype = Object.create(superClass.prototype);\r\n  subClass.prototype.constructor = subClass;\r\n  _setPrototypeOf(subClass, superClass);\r\n}\r\n\r\nvar changedArray = function changedArray(a, b) {\r\n  if (a === void 0) {\r\n    a = [];\r\n  }\r\n\r\n  if (b === void 0) {\r\n    b = [];\r\n  }\r\n\r\n  return a.length !== b.length || a.some(function (item, index) {\r\n    return !Object.is(item, b[index]);\r\n  });\r\n};\r\n\r\nvar initialState = {\r\n  error: null\r\n};\r\n\r\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\r\n  _inheritsLoose(ErrorBoundary, _React$Component);\r\n\r\n  function ErrorBoundary() {\r\n    var _this;\r\n\r\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      _args[_key] = arguments[_key];\r\n    }\r\n\r\n    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\r\n    _this.state = initialState;\r\n\r\n    _this.resetErrorBoundary = function () {\r\n      var _this$props;\r\n\r\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\r\n        args[_key2] = arguments[_key2];\r\n      }\r\n\r\n      _this.props.onReset == null ? void 0 : (_this$props = _this.props).onReset.apply(_this$props, args);\r\n\r\n      _this.reset();\r\n    };\r\n\r\n    return _this;\r\n  }\r\n\r\n  ErrorBoundary.getDerivedStateFromError = function getDerivedStateFromError(error) {\r\n    return {\r\n      error: error\r\n    };\r\n  };\r\n\r\n  var _proto = ErrorBoundary.prototype;\r\n\r\n  _proto.reset = function reset() {\r\n    this.setState(initialState);\r\n  };\r\n\r\n  _proto.componentDidCatch = function componentDidCatch(error, info) {\r\n    var _this$props$onError, _this$props2;\r\n\r\n    (_this$props$onError = (_this$props2 = this.props).onError) == null ? void 0 : _this$props$onError.call(_this$props2, error, info);\r\n  };\r\n\r\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\r\n    var error = this.state.error;\r\n    var resetKeys = this.props.resetKeys; // There's an edge case where if the thing that triggered the error\r\n    // happens to *also* be in the resetKeys array, we'd end up resetting\r\n    // the error boundary immediately. This would likely trigger a second\r\n    // error to be thrown.\r\n    // So we make sure that we don't check the resetKeys on the first call\r\n    // of cDU after the error is set\r\n\r\n    if (error !== null && prevState.error !== null && changedArray(prevProps.resetKeys, resetKeys)) {\r\n      var _this$props$onResetKe, _this$props3;\r\n\r\n      (_this$props$onResetKe = (_this$props3 = this.props).onResetKeysChange) == null ? void 0 : _this$props$onResetKe.call(_this$props3, prevProps.resetKeys, resetKeys);\r\n      this.reset();\r\n    }\r\n  };\r\n\r\n  _proto.render = function render() {\r\n    var error = this.state.error;\r\n    var _this$props4 = this.props,\r\n        fallbackRender = _this$props4.fallbackRender,\r\n        FallbackComponent = _this$props4.FallbackComponent,\r\n        fallback = _this$props4.fallback;\r\n\r\n    if (error !== null) {\r\n      var _props = {\r\n        error: error,\r\n        resetErrorBoundary: this.resetErrorBoundary\r\n      };\r\n\r\n      if ( /*#__PURE__*/React.isValidElement(fallback)) {\r\n        return fallback;\r\n      } else if (typeof fallbackRender === 'function') {\r\n        return fallbackRender(_props);\r\n      } else if (FallbackComponent) {\r\n        return /*#__PURE__*/React.createElement(FallbackComponent, _props);\r\n      } else {\r\n        throw new Error('react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop');\r\n      }\r\n    }\r\n\r\n    return this.props.children;\r\n  };\r\n\r\n  return ErrorBoundary;\r\n}(React.Component);\r\n\r\n/**\r\n * Copyright (c) Meta Platforms, Inc. and affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n */\r\nfunction LexicalErrorBoundary({\r\n  children,\r\n  onError\r\n}) {\r\n  return /*#__PURE__*/React.createElement(ErrorBoundary, {\r\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\r\n      style: {\r\n        border: '1px solid #f00',\r\n        color: '#f00',\r\n        padding: '8px'\r\n      }\r\n    }, \"An error was thrown.\"),\r\n    onError: onError\r\n  }, children);\r\n}\r\n\r\nmodule.exports = LexicalErrorBoundary;\r\n", "/**\r\n * Copyright (c) Meta Platforms, Inc. and affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\r\n'use strict'\r\nconst LexicalErrorBoundary = process.env.NODE_ENV === 'development' ? require('./LexicalErrorBoundary.dev.js') : require('./LexicalErrorBoundary.prod.js')\r\nmodule.exports = LexicalErrorBoundary;"],
  "mappings": "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",
  "names": ["_setPrototypeOf", "o", "p", "changedArray", "ErrorBoundary"]
}
