{
  "version": 3,
  "sources": ["../../extend/index.js", "../../geopattern/lib/color.js", "../../geopattern/lib/sha1.js", "../../geopattern/lib/xml.js", "../../geopattern/lib/svg.js", "../../geopattern/lib/pattern.js", "../../geopattern/geopattern.js"],
  "sourcesContent": ["var hasOwn = Object.prototype.hasOwnProperty;\r\nvar toString = Object.prototype.toString;\r\n\r\nfunction isPlainObject(obj) {\r\n\tif (!obj || toString.call(obj) !== '[object Object]' || obj.nodeType || obj.setInterval)\r\n\t\treturn false;\r\n\r\n\tvar has_own_constructor = hasOwn.call(obj, 'constructor');\r\n\tvar has_is_property_of_method = hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\r\n\t// Not own constructor property must be Object\r\n\tif (obj.constructor && !has_own_constructor && !has_is_property_of_method)\r\n\t\treturn false;\r\n\r\n\t// Own properties are enumerated firstly, so to speed up,\r\n\t// if last one is own, then all properties are own.\r\n\tvar key;\r\n\tfor ( key in obj ) {}\r\n\r\n\treturn key === undefined || hasOwn.call( obj, key );\r\n};\r\n\r\nmodule.exports = function extend() {\r\n\tvar options, name, src, copy, copyIsArray, clone,\r\n\t    target = arguments[0] || {},\r\n\t    i = 1,\r\n\t    length = arguments.length,\r\n\t    deep = false;\r\n\r\n\t// Handle a deep copy situation\r\n\tif ( typeof target === \"boolean\" ) {\r\n\t\tdeep = target;\r\n\t\ttarget = arguments[1] || {};\r\n\t\t// skip the boolean and the target\r\n\t\ti = 2;\r\n\t}\r\n\r\n\t// Handle case when target is a string or something (possible in deep copy)\r\n\tif ( typeof target !== \"object\" && typeof target !== \"function\") {\r\n\t\ttarget = {};\r\n\t}\r\n\r\n\tfor ( ; i < length; i++ ) {\r\n\t\t// Only deal with non-null/undefined values\r\n\t\tif ( (options = arguments[ i ]) != null ) {\r\n\t\t\t// Extend the base object\r\n\t\t\tfor ( name in options ) {\r\n\t\t\t\tsrc = target[ name ];\r\n\t\t\t\tcopy = options[ name ];\r\n\r\n\t\t\t\t// Prevent never-ending loop\r\n\t\t\t\tif ( target === copy ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Recurse if we're merging plain objects or arrays\r\n\t\t\t\tif ( deep && copy && ( isPlainObject(copy) || (copyIsArray = Array.isArray(copy)) ) ) {\r\n\t\t\t\t\tif ( copyIsArray ) {\r\n\t\t\t\t\t\tcopyIsArray = false;\r\n\t\t\t\t\t\tclone = src && Array.isArray(src) ? src : [];\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Never move original objects, clone them\r\n\t\t\t\t\ttarget[ name ] = extend( deep, clone, copy );\r\n\r\n\t\t\t\t// Don't bring in undefined values\r\n\t\t\t\t} else if ( copy !== undefined ) {\r\n\t\t\t\t\ttarget[ name ] = copy;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Return the modified object\r\n\treturn target;\r\n};\r\n", "/*eslint sort-vars:0, curly:0*/\r\n\r\n'use strict';\r\n\r\n/**\r\n * Converts a hex CSS color value to RGB.\r\n * Adapted from http://stackoverflow.com/a/5624139.\r\n *\r\n * @param\tString\thex\t\tThe hexadecimal color value\r\n * @return\tObject\t\t\tThe RGB representation\r\n */\r\nfunction hex2rgb(hex) {\r\n\t// Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n\tvar shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n\thex = hex.replace(shorthandRegex, function (m, r, g, b) {\r\n\t\treturn r + r + g + g + b + b;\r\n\t});\r\n\r\n\tvar result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n\treturn result ? {\r\n\t\tr: parseInt(result[1], 16),\r\n\t\tg: parseInt(result[2], 16),\r\n\t\tb: parseInt(result[3], 16)\r\n\t} : null;\r\n}\r\n\r\n/**\r\n * Converts an RGB color value to a hex string.\r\n * @param  Object rgb RGB as r, g, and b keys\r\n * @return String     Hex color string\r\n */\r\nfunction rgb2hex(rgb) {\r\n\treturn '#' + ['r', 'g', 'b'].map(function (key) {\r\n\t\treturn ('0' + rgb[key].toString(16)).slice(-2);\r\n\t}).join('');\r\n}\r\n\r\n/**\r\n * Converts an RGB color value to HSL. Conversion formula adapted from\r\n * http://en.wikipedia.org/wiki/HSL_color_space. This function adapted\r\n * from http://stackoverflow.com/a/9493060.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and l in the set [0, 1].\r\n *\r\n * @param   Object  rgb     RGB as r, g, and b keys\r\n * @return  Object          HSL as h, s, and l keys\r\n */\r\nfunction rgb2hsl(rgb) {\r\n\tvar r = rgb.r, g = rgb.g, b = rgb.b;\r\n\tr /= 255; g /= 255; b /= 255;\r\n\tvar max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n\tvar h, s, l = (max + min) / 2;\r\n\r\n\tif (max === min) {\r\n\t\th = s = 0; // achromatic\r\n\t} else {\r\n\t\tvar d = max - min;\r\n\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n\t\tswitch (max) {\r\n\t\t\tcase r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n\t\t\tcase g: h = (b - r) / d + 2; break;\r\n\t\t\tcase b: h = (r - g) / d + 4; break;\r\n\t\t}\r\n\t\th /= 6;\r\n\t}\r\n\r\n\treturn { h: h, s: s, l: l };\r\n}\r\n\r\n/**\r\n * Converts an HSL color value to RGB. Conversion formula adapted from\r\n * http://en.wikipedia.org/wiki/HSL_color_space. This function adapted\r\n * from http://stackoverflow.com/a/9493060.\r\n * Assumes h, s, and l are contained in the set [0, 1] and\r\n * returns r, g, and b in the set [0, 255].\r\n *\r\n * @param   Object  hsl     HSL as h, s, and l keys\r\n * @return  Object          RGB as r, g, and b values\r\n */\r\nfunction hsl2rgb(hsl) {\r\n\r\n\tfunction hue2rgb(p, q, t) {\r\n\t\tif (t < 0) t += 1;\r\n\t\tif (t > 1) t -= 1;\r\n\t\tif (t < 1 / 6) return p + (q - p) * 6 * t;\r\n\t\tif (t < 1 / 2) return q;\r\n\t\tif (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n\t\treturn p;\r\n\t}\r\n\r\n\tvar h = hsl.h, s = hsl.s, l = hsl.l;\r\n\tvar r, g, b;\r\n\r\n\tif(s === 0){\r\n\t\tr = g = b = l; // achromatic\r\n\t}else{\r\n\r\n\t\tvar q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n\t\tvar p = 2 * l - q;\r\n\t\tr = hue2rgb(p, q, h + 1 / 3);\r\n\t\tg = hue2rgb(p, q, h);\r\n\t\tb = hue2rgb(p, q, h - 1 / 3);\r\n\t}\r\n\r\n\treturn {\r\n\t\tr: Math.round(r * 255),\r\n\t\tg: Math.round(g * 255),\r\n\t\tb: Math.round(b * 255)\r\n\t};\r\n}\r\n\r\nmodule.exports = {\r\n\thex2rgb: hex2rgb,\r\n\trgb2hex: rgb2hex,\r\n\trgb2hsl: rgb2hsl,\r\n\thsl2rgb: hsl2rgb,\r\n\trgb2rgbString: function (rgb) {\r\n\t\treturn 'rgb(' + [rgb.r, rgb.g, rgb.b].join(',') + ')';\r\n\t}\r\n};\r\n", "/*\r\nhttps://github.com/creationix/git-sha1/blob/master/git-sha1.js\r\n\r\nThe MIT License (MIT)\r\n\r\nCopyright (c) 2013 Tim Caswell\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of\r\nthis software and associated documentation files (the \"Software\"), to deal in\r\nthe Software without restriction, including without limitation the rights to\r\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\r\nthe Software, and to permit persons to whom the Software is furnished to do so,\r\nsubject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n*/\r\n\r\n'use strict';\r\n\r\n// A streaming interface for when nothing is passed in.\r\nfunction create() {\r\n\r\n\tvar h0 = 0x67452301;\r\n\tvar h1 = 0xEFCDAB89;\r\n\tvar h2 = 0x98BADCFE;\r\n\tvar h3 = 0x10325476;\r\n\tvar h4 = 0xC3D2E1F0;\r\n\t// The first 64 bytes (16 words) is the data chunk\r\n\tvar block = new Uint32Array(80), offset = 0, shift = 24;\r\n\tvar totalLength = 0;\r\n\r\n\t// We have a full block to process.  Let's do it!\r\n\tfunction processBlock() {\r\n\t\t// Extend the sixteen 32-bit words into eighty 32-bit words:\r\n\t\tfor (var i = 16; i < 80; i++) {\r\n\t\t\tvar w = block[i - 3] ^ block[i - 8] ^ block[i - 14] ^ block[i - 16];\r\n\t\t\tblock[i] = (w << 1) | (w >>> 31);\r\n\t\t}\r\n\r\n\t\t// log(block);\r\n\r\n\t\t// Initialize hash value for this chunk:\r\n\t\tvar a = h0;\r\n\t\tvar b = h1;\r\n\t\tvar c = h2;\r\n\t\tvar d = h3;\r\n\t\tvar e = h4;\r\n\t\tvar f, k;\r\n\r\n\t\t// Main loop:\r\n\t\tfor (i = 0; i < 80; i++) {\r\n\t\t\tif (i < 20) {\r\n\t\t\t\tf = d ^ (b & (c ^ d));\r\n\t\t\t\tk = 0x5A827999;\r\n\t\t\t}\r\n\t\t\telse if (i < 40) {\r\n\t\t\t\tf = b ^ c ^ d;\r\n\t\t\t\tk = 0x6ED9EBA1;\r\n\t\t\t}\r\n\t\t\telse if (i < 60) {\r\n\t\t\t\tf = (b & c) | (d & (b | c));\r\n\t\t\t\tk = 0x8F1BBCDC;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tf = b ^ c ^ d;\r\n\t\t\t\tk = 0xCA62C1D6;\r\n\t\t\t}\r\n\t\t\tvar temp = (a << 5 | a >>> 27) + f + e + k + (block[i] | 0);\r\n\t\t\te = d;\r\n\t\t\td = c;\r\n\t\t\tc = (b << 30 | b >>> 2);\r\n\t\t\tb = a;\r\n\t\t\ta = temp;\r\n\t\t}\r\n\r\n\t\t// Add this chunk's hash to result so far:\r\n\t\th0 = (h0 + a) | 0;\r\n\t\th1 = (h1 + b) | 0;\r\n\t\th2 = (h2 + c) | 0;\r\n\t\th3 = (h3 + d) | 0;\r\n\t\th4 = (h4 + e) | 0;\r\n\r\n\t\t// The block is now reusable.\r\n\t\toffset = 0;\r\n\t\tfor (i = 0; i < 16; i++) {\r\n\t\t\tblock[i] = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction write(byte) {\r\n\t\tblock[offset] |= (byte & 0xff) << shift;\r\n\t\tif (shift) {\r\n\t\t\tshift -= 8;\r\n\t\t}\r\n\t\telse {\r\n\t\t\toffset++;\r\n\t\t\tshift = 24;\r\n\t\t}\r\n\t\tif (offset === 16) {\r\n\t\t\tprocessBlock();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateString(string) {\r\n\t\tvar length = string.length;\r\n\t\ttotalLength += length * 8;\r\n\t\tfor (var i = 0; i < length; i++) {\r\n\t\t\twrite(string.charCodeAt(i));\r\n\t\t}\r\n\t}\r\n\r\n\t// The user gave us more data.  Store it!\r\n\tfunction update(chunk) {\r\n\t\tif (typeof chunk === 'string') {\r\n\t\t\treturn updateString(chunk);\r\n\t\t}\r\n\t\tvar length = chunk.length;\r\n\t\ttotalLength += length * 8;\r\n\t\tfor (var i = 0; i < length; i++) {\r\n\t\t\twrite(chunk[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction toHex(word) {\r\n\t\tvar hex = '';\r\n\t\tfor (var i = 28; i >= 0; i -= 4) {\r\n\t\t\thex += ((word >> i) & 0xf).toString(16);\r\n\t\t}\r\n\t\treturn hex;\r\n\t}\r\n\r\n\t// No more data will come, pad the block, process and return the result.\r\n\tfunction digest() {\r\n\t\t// Pad\r\n\t\twrite(0x80);\r\n\t\tif (offset > 14 || (offset === 14 && shift < 24)) {\r\n\t\t\tprocessBlock();\r\n\t\t}\r\n\t\toffset = 14;\r\n\t\tshift = 24;\r\n\r\n\t\t// 64-bit length big-endian\r\n\t\twrite(0x00); // numbers this big aren't accurate in javascript anyway\r\n\t\twrite(0x00); // ..So just hard-code to zero.\r\n\t\twrite(totalLength > 0xffffffffff ? totalLength / 0x10000000000 : 0x00);\r\n\t\twrite(totalLength > 0xffffffff ? totalLength / 0x100000000 : 0x00);\r\n\t\tfor (var s = 24; s >= 0; s -= 8) {\r\n\t\t\twrite(totalLength >> s);\r\n\t\t}\r\n\r\n\t\t// At this point one last processBlock() should trigger and we can pull out the result.\r\n\t\treturn toHex(h0) +\r\n\t\ttoHex(h1) +\r\n\t\ttoHex(h2) +\r\n\t\ttoHex(h3) +\r\n\t\ttoHex(h4);\r\n\t}\r\n\r\n\treturn { update: update, digest: digest };\r\n}\r\n\r\n// Input chunks must be either arrays of bytes or \"raw\" encoded strings\r\nmodule.exports = function sha1(buffer) {\r\n\tif (buffer === undefined) {\r\n\t\treturn create();\r\n\t}\r\n\tvar shasum = create();\r\n\tshasum.update(buffer);\r\n\treturn shasum.digest();\r\n};\r\n", "'use strict';\r\n\r\nvar XMLNode = module.exports = function (tagName) {\r\n\tif (!(this instanceof XMLNode)) {\r\n\t\treturn new XMLNode(tagName);\r\n\t}\r\n\r\n\tthis.tagName = tagName;\r\n\tthis.attributes = Object.create(null);\r\n\tthis.children = [];\r\n\tthis.lastChild = null;\r\n\r\n\treturn this;\r\n};\r\n\r\nXMLNode.prototype.appendChild = function (child) {\r\n\tthis.children.push(child);\r\n\tthis.lastChild = child;\r\n\r\n\treturn this;\r\n};\r\n\r\nXMLNode.prototype.setAttribute = function (name, value) {\r\n\tthis.attributes[name] = value;\r\n\r\n\treturn this;\r\n};\r\n\r\nXMLNode.prototype.toString = function () {\r\n\tvar self = this;\r\n\r\n\treturn [\r\n\t\t'<',\r\n\t\tself.tagName,\r\n\t\tObject.keys(self.attributes).map(function (attr) {\r\n\t\t\treturn [\r\n\t\t\t\t' ',\r\n\t\t\t\tattr,\r\n\t\t\t\t'=\"',\r\n\t\t\t\tself.attributes[attr],\r\n\t\t\t\t'\"'\r\n\t\t\t].join('');\r\n\t\t}).join(''),\r\n\t\t'>',\r\n\t\tself.children.map(function (child) {\r\n\t\t\treturn child.toString();\r\n\t\t}).join(''),\r\n\t\t'</',\r\n\t\tself.tagName,\r\n\t\t'>'\r\n\t].join('');\r\n};\r\n", "'use strict';\r\n\r\nvar extend = require('extend');\r\nvar XMLNode = require('./xml');\r\n\r\nfunction SVG() {\r\n\tthis.width = 100;\r\n\tthis.height = 100;\r\n\tthis.svg = XMLNode('svg');\r\n\tthis.context = []; // Track nested nodes\r\n\tthis.setAttributes(this.svg, {\r\n\t\txmlns: 'http://www.w3.org/2000/svg',\r\n\t\twidth: this.width,\r\n\t\theight: this.height\r\n\t});\r\n\r\n\treturn this;\r\n}\r\n\r\nmodule.exports = SVG;\r\n\r\n// This is a hack so groups work.\r\nSVG.prototype.currentContext = function () {\r\n\treturn this.context[this.context.length - 1] || this.svg;\r\n};\r\n\r\n// This is a hack so groups work.\r\nSVG.prototype.end = function () {\r\n\tthis.context.pop();\r\n\treturn this;\r\n};\r\n\r\nSVG.prototype.currentNode = function () {\r\n\tvar context = this.currentContext();\r\n\treturn context.lastChild || context;\r\n};\r\n\r\nSVG.prototype.transform = function (transformations) {\r\n\tthis.currentNode().setAttribute('transform',\r\n\t\tObject.keys(transformations).map(function (transformation) {\r\n\t\t\treturn transformation + '(' + transformations[transformation].join(',') + ')';\r\n\t\t}).join(' ')\r\n\t);\r\n\treturn this;\r\n};\r\n\r\nSVG.prototype.setAttributes = function (el, attrs) {\r\n\tObject.keys(attrs).forEach(function (attr) {\r\n\t\tel.setAttribute(attr, attrs[attr]);\r\n\t});\r\n};\r\n\r\nSVG.prototype.setWidth = function (width) {\r\n\tthis.svg.setAttribute('width', Math.floor(width));\r\n};\r\n\r\nSVG.prototype.setHeight = function (height) {\r\n\tthis.svg.setAttribute('height', Math.floor(height));\r\n};\r\n\r\nSVG.prototype.toString = function () {\r\n\treturn this.svg.toString();\r\n};\r\n\r\nSVG.prototype.rect = function (x, y, width, height, args) {\r\n\t// Accept array first argument\r\n\tvar self = this;\r\n\tif (Array.isArray(x)) {\r\n\t\tx.forEach(function (a) {\r\n\t\t\tself.rect.apply(self, a.concat(args));\r\n\t\t});\r\n\t\treturn this;\r\n\t}\r\n\r\n\tvar rect = XMLNode('rect');\r\n\tthis.currentContext().appendChild(rect);\r\n\tthis.setAttributes(rect, extend({\r\n\t\tx: x,\r\n\t\ty: y,\r\n\t\twidth: width,\r\n\t\theight: height\r\n\t}, args));\r\n\r\n\treturn this;\r\n};\r\n\r\nSVG.prototype.circle = function (cx, cy, r, args) {\r\n\tvar circle = XMLNode('circle');\r\n\tthis.currentContext().appendChild(circle);\r\n\tthis.setAttributes(circle, extend({\r\n\t\tcx: cx,\r\n\t\tcy: cy,\r\n\t\tr: r\r\n\t}, args));\r\n\r\n\treturn this;\r\n};\r\n\r\nSVG.prototype.path = function (str, args) {\r\n\tvar path = XMLNode('path');\r\n\tthis.currentContext().appendChild(path);\r\n\tthis.setAttributes(path, extend({\r\n\t\td: str\r\n\t}, args));\r\n\r\n\treturn this;\r\n};\r\n\r\nSVG.prototype.polyline = function (str, args) {\r\n\t// Accept array first argument\r\n\tvar self = this;\r\n\tif (Array.isArray(str)) {\r\n\t\tstr.forEach(function (s) {\r\n\t\t\tself.polyline(s, args);\r\n\t\t});\r\n\t\treturn this;\r\n\t}\r\n\r\n\tvar polyline = XMLNode('polyline');\r\n\tthis.currentContext().appendChild(polyline);\r\n\tthis.setAttributes(polyline, extend({\r\n\t\tpoints: str\r\n\t}, args));\r\n\r\n\treturn this;\r\n};\r\n\r\n// group and context are hacks\r\nSVG.prototype.group = function (args) {\r\n\tvar group = XMLNode('g');\r\n\tthis.currentContext().appendChild(group);\r\n\tthis.context.push(group);\r\n\tthis.setAttributes(group, extend({}, args));\r\n\treturn this;\r\n};\r\n", "'use strict';\r\n\r\nvar extend = require('extend');\r\nvar color  = require('./color');\r\nvar SHA1   = require('./sha1');\r\nvar SVG    = require('./svg');\r\n\r\n\r\n\r\nvar DEFAULTS = {\r\n\tbaseColor: '#933c3c'\r\n};\r\n\r\nvar PATTERNS = [\r\n\t'octogons',\r\n\t'overlappingCircles',\r\n\t'plusSigns',\r\n\t'xes',\r\n\t'sineWaves',\r\n\t'hexagons',\r\n\t'overlappingRings',\r\n\t'plaid',\r\n\t'triangles',\r\n\t'squares',\r\n\t'concentricCircles',\r\n\t'diamonds',\r\n\t'tessellation',\r\n\t'nestedSquares',\r\n\t'mosaicSquares',\r\n\t'chevrons'\r\n];\r\n\r\nvar FILL_COLOR_DARK  = '#222';\r\nvar FILL_COLOR_LIGHT = '#ddd';\r\nvar STROKE_COLOR     = '#000';\r\nvar STROKE_OPACITY   = 0.02;\r\nvar OPACITY_MIN      = 0.02;\r\nvar OPACITY_MAX      = 0.15;\r\n\r\n\r\n\r\n// Helpers\r\n\r\n/**\r\n * Extract a substring from a hex string and parse it as an integer\r\n * @param {string} hash - Source hex string\r\n * @param {number} index - Start index of substring\r\n * @param {number} [length] - Length of substring. Defaults to 1.\r\n */\r\nfunction hexVal(hash, index, len) {\r\n\treturn parseInt(hash.substr(index, len || 1), 16);\r\n}\r\n\r\n/*\r\n * Re-maps a number from one range to another\r\n * http://processing.org/reference/map_.html\r\n */\r\nfunction map(value, vMin, vMax, dMin, dMax) {\r\n\tvar vValue = parseFloat(value);\r\n\tvar vRange = vMax - vMin;\r\n\tvar dRange = dMax - dMin;\r\n\r\n\treturn (vValue - vMin) * dRange / vRange + dMin;\r\n}\r\n\r\nfunction fillColor(val) {\r\n\treturn (val % 2 === 0) ? FILL_COLOR_LIGHT : FILL_COLOR_DARK;\r\n}\r\n\r\nfunction fillOpacity(val) {\r\n\treturn map(val, 0, 15, OPACITY_MIN, OPACITY_MAX);\r\n}\r\n\r\n\r\n\r\nvar Pattern = module.exports = function (string, options) {\r\n\tthis.opts = extend({}, DEFAULTS, options);\r\n\tthis.hash = options.hash || SHA1(string);\r\n\tthis.svg = new SVG();\r\n\r\n\tthis.generateBackground();\r\n\tthis.generatePattern();\r\n\r\n\treturn this;\r\n};\r\n\r\nPattern.prototype.toSvg = function () {\r\n\treturn this.svg.toString();\r\n};\r\n\r\nPattern.prototype.toString = function () {\r\n\treturn this.toSvg();\r\n};\r\n\r\nPattern.prototype.toBase64 = function () {\r\n\tvar str = this.toSvg();\r\n\tvar b64;\r\n\r\n\t// Use window.btoa if in the browser; otherwise fallback to node buffers\r\n\tif (typeof window !== 'undefined' && typeof window.btoa === 'function') {\r\n\t\tb64 = window.btoa(str);\r\n\t} else {\r\n\t\tb64 = new Buffer(str).toString('base64');\r\n\t}\r\n\r\n\treturn b64;\r\n};\r\n\r\nPattern.prototype.toDataUri = function () {\r\n\treturn 'data:image/svg+xml;base64,' + this.toBase64();\r\n};\r\n\r\nPattern.prototype.toDataUrl = function () {\r\n\treturn 'url(\"' + this.toDataUri() + '\")';\r\n};\r\n\r\nPattern.prototype.generateBackground = function () {\r\n\tvar baseColor, hueOffset, rgb, satOffset;\r\n\r\n\tif (this.opts.color) {\r\n\t\trgb = color.hex2rgb(this.opts.color);\r\n\t} else {\r\n\t\thueOffset = map(hexVal(this.hash, 14, 3), 0, 4095, 0, 359);\r\n\t\tsatOffset = hexVal(this.hash, 17);\r\n\t\tbaseColor = color.rgb2hsl(color.hex2rgb(this.opts.baseColor));\r\n\r\n\t\tbaseColor.h = (((baseColor.h * 360 - hueOffset) + 360) % 360) / 360;\r\n\r\n\t\tif (satOffset % 2 === 0) {\r\n\t\t\tbaseColor.s = Math.min(1, ((baseColor.s * 100) + satOffset) / 100);\r\n\t\t} else {\r\n\t\t\tbaseColor.s = Math.max(0, ((baseColor.s * 100) - satOffset) / 100);\r\n\t\t}\r\n\t\trgb = color.hsl2rgb(baseColor);\r\n\t}\r\n\r\n\tthis.color = color.rgb2hex(rgb);\r\n\r\n\tthis.svg.rect(0, 0, '100%', '100%', {\r\n\t\tfill: color.rgb2rgbString(rgb)\r\n\t});\r\n};\r\n\r\nPattern.prototype.generatePattern = function () {\r\n\tvar generator = this.opts.generator;\r\n\r\n\tif (generator) {\r\n\t\tif (PATTERNS.indexOf(generator) < 0) {\r\n\t\t\tthrow new Error('The generator '\r\n\t\t\t\t+ generator\r\n\t\t\t\t+ ' does not exist.');\r\n\t\t}\r\n\t} else {\r\n\t\tgenerator = PATTERNS[hexVal(this.hash, 20)];\r\n\t}\r\n\r\n\treturn this['geo' + generator.slice(0, 1).toUpperCase() + generator.slice(1)]();\r\n};\r\n\r\nfunction buildHexagonShape(sideLength) {\r\n\tvar c = sideLength;\r\n\tvar a = c / 2;\r\n\tvar b = Math.sin(60 * Math.PI / 180) * c;\r\n\treturn [\r\n\t\t0, b,\r\n\t\ta, 0,\r\n\t\ta + c, 0,\r\n\t\t2 * c, b,\r\n\t\ta + c, 2 * b,\r\n\t\ta, 2 * b,\r\n\t\t0, b\r\n\t].join(',');\r\n}\r\n\r\nPattern.prototype.geoHexagons = function () {\r\n\tvar scale      = hexVal(this.hash, 0);\r\n\tvar sideLength = map(scale, 0, 15, 8, 60);\r\n\tvar hexHeight  = sideLength * Math.sqrt(3);\r\n\tvar hexWidth   = sideLength * 2;\r\n\tvar hex        = buildHexagonShape(sideLength);\r\n\tvar dy, fill, i, opacity, styles, val, x, y;\r\n\r\n\tthis.svg.setWidth(hexWidth * 3 + sideLength * 3);\r\n\tthis.svg.setHeight(hexHeight * 6);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 6; y++) {\r\n\t\tfor (x = 0; x < 6; x++) {\r\n\t\t\tval     = hexVal(this.hash, i);\r\n\t\t\tdy      = x % 2 === 0 ? y * hexHeight : y * hexHeight + hexHeight / 2;\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tstyles = {\r\n\t\t\t\tfill: fill,\r\n\t\t\t\t'fill-opacity': opacity,\r\n\t\t\t\tstroke: STROKE_COLOR,\r\n\t\t\t\t'stroke-opacity': STROKE_OPACITY\r\n\t\t\t};\r\n\r\n\t\t\tthis.svg.polyline(hex, styles).transform({\r\n\t\t\t\ttranslate: [\r\n\t\t\t\t\tx * sideLength * 1.5 - hexWidth / 2,\r\n\t\t\t\t\tdy - hexHeight / 2\r\n\t\t\t\t]\r\n\t\t\t});\r\n\r\n\t\t\t// Add an extra one at top-right, for tiling.\r\n\t\t\tif (x === 0) {\r\n\t\t\t\tthis.svg.polyline(hex, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\t6 * sideLength * 1.5 - hexWidth / 2,\r\n\t\t\t\t\t\tdy - hexHeight / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Add an extra row at the end that matches the first row, for tiling.\r\n\t\t\tif (y === 0) {\r\n\t\t\t\tdy = x % 2 === 0 ? 6 * hexHeight : 6 * hexHeight + hexHeight / 2;\r\n\t\t\t\tthis.svg.polyline(hex, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\tx * sideLength * 1.5 - hexWidth / 2,\r\n\t\t\t\t\t\tdy - hexHeight / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Add an extra one at bottom-right, for tiling.\r\n\t\t\tif (x === 0 && y === 0) {\r\n\t\t\t\tthis.svg.polyline(hex, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\t6 * sideLength * 1.5 - hexWidth / 2,\r\n\t\t\t\t\t\t5 * hexHeight + hexHeight / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nPattern.prototype.geoSineWaves = function () {\r\n\tvar period    = Math.floor(map(hexVal(this.hash, 0), 0, 15, 100, 400));\r\n\tvar amplitude = Math.floor(map(hexVal(this.hash, 1), 0, 15, 30, 100));\r\n\tvar waveWidth = Math.floor(map(hexVal(this.hash, 2), 0, 15, 3, 30));\r\n\tvar fill, i, opacity, str, styles, val, xOffset;\r\n\r\n\tthis.svg.setWidth(period);\r\n\tthis.svg.setHeight(waveWidth * 36);\r\n\r\n\tfor (i = 0; i < 36; i++) {\r\n\t\tval     = hexVal(this.hash, i);\r\n\t\topacity = fillOpacity(val);\r\n\t\tfill    = fillColor(val);\r\n\t\txOffset = period / 4 * 0.7;\r\n\r\n\t\tstyles = {\r\n\t\t\tfill: 'none',\r\n\t\t\tstroke: fill,\r\n\t\t\topacity: opacity,\r\n\t\t\t'stroke-width': '' + waveWidth + 'px'\r\n\t\t};\r\n\r\n\t\tstr = 'M0 ' + amplitude +\r\n\t\t\t' C ' + xOffset + ' 0, ' + (period / 2 - xOffset) + ' 0, ' + (period / 2) + ' ' + amplitude +\r\n\t\t\t' S ' + (period - xOffset) + ' ' + (amplitude * 2) + ', ' + period + ' ' + amplitude +\r\n\t\t\t' S ' + (period * 1.5 - xOffset) + ' 0, ' + (period * 1.5) + ', ' + amplitude;\r\n\r\n\t\tthis.svg.path(str, styles).transform({\r\n\t\t\ttranslate: [\r\n\t\t\t\t-period / 4,\r\n\t\t\t\twaveWidth * i - amplitude * 1.5\r\n\t\t\t]\r\n\t\t});\r\n\t\tthis.svg.path(str, styles).transform({\r\n\t\t\ttranslate: [\r\n\t\t\t\t-period / 4,\r\n\t\t\t\twaveWidth * i - amplitude * 1.5 + waveWidth * 36\r\n\t\t\t]\r\n\t\t});\r\n\t}\r\n};\r\n\r\nfunction buildChevronShape(width, height) {\r\n\tvar e = height * 0.66;\r\n\treturn [\r\n\t\t[\r\n\t\t\t0, 0,\r\n\t\t\twidth / 2, height - e,\r\n\t\t\twidth / 2, height,\r\n\t\t\t0, e,\r\n\t\t\t0, 0\r\n\t\t],\r\n\t\t[\r\n\t\t\twidth / 2, height - e,\r\n\t\t\twidth, 0,\r\n\t\t\twidth, e,\r\n\t\t\twidth / 2, height,\r\n\t\t\twidth / 2, height - e\r\n\t\t]\r\n\t].map(function (x) { return x.join(','); });\r\n}\r\n\r\nPattern.prototype.geoChevrons = function () {\r\n\tvar chevronWidth  = map(hexVal(this.hash, 0), 0, 15, 30, 80);\r\n\tvar chevronHeight = map(hexVal(this.hash, 0), 0, 15, 30, 80);\r\n\tvar chevron       = buildChevronShape(chevronWidth, chevronHeight);\r\n\tvar fill, i, opacity, styles, val, x, y;\r\n\r\n\tthis.svg.setWidth(chevronWidth * 6);\r\n\tthis.svg.setHeight(chevronHeight * 6 * 0.66);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 6; y++) {\r\n\t\tfor (x = 0; x < 6; x++) {\r\n\t\t\tval     = hexVal(this.hash, i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tstyles = {\r\n\t\t\t\tstroke: STROKE_COLOR,\r\n\t\t\t\t'stroke-opacity': STROKE_OPACITY,\r\n\t\t\t\tfill: fill,\r\n\t\t\t\t'fill-opacity': opacity,\r\n\t\t\t\t'stroke-width': 1\r\n\t\t\t};\r\n\r\n\t\t\tthis.svg.group(styles).transform({\r\n\t\t\t\ttranslate: [\r\n\t\t\t\t\tx * chevronWidth,\r\n\t\t\t\t\ty * chevronHeight * 0.66 - chevronHeight / 2\r\n\t\t\t\t]\r\n\t\t\t}).polyline(chevron).end();\r\n\r\n\t\t\t// Add an extra row at the end that matches the first row, for tiling.\r\n\t\t\tif (y === 0) {\r\n\t\t\t\tthis.svg.group(styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\tx * chevronWidth,\r\n\t\t\t\t\t\t6 * chevronHeight * 0.66 - chevronHeight / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t}).polyline(chevron).end();\r\n\t\t\t}\r\n\r\n\t\t\ti += 1;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction buildPlusShape(squareSize) {\r\n\treturn [\r\n\t\t[squareSize, 0, squareSize, squareSize * 3],\r\n\t\t[0, squareSize, squareSize * 3, squareSize]\r\n\t];\r\n}\r\n\r\nPattern.prototype.geoPlusSigns = function () {\r\n\tvar squareSize = map(hexVal(this.hash, 0), 0, 15, 10, 25);\r\n\tvar plusSize   = squareSize * 3;\r\n\tvar plusShape  = buildPlusShape(squareSize);\r\n\tvar dx, fill, i, opacity, styles, val, x, y;\r\n\r\n\tthis.svg.setWidth(squareSize * 12);\r\n\tthis.svg.setHeight(squareSize * 12);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 6; y++) {\r\n\t\tfor (x = 0; x < 6; x++) {\r\n\t\t\tval     = hexVal(this.hash, i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\t\t\tdx      = (y % 2 === 0) ? 0 : 1;\r\n\r\n\t\t\tstyles = {\r\n\t\t\t\tfill: fill,\r\n\t\t\t\tstroke: STROKE_COLOR,\r\n\t\t\t\t'stroke-opacity': STROKE_OPACITY,\r\n\t\t\t\t'fill-opacity': opacity\r\n\t\t\t};\r\n\r\n\t\t\tthis.svg.group(styles).transform({\r\n\t\t\t\ttranslate: [\r\n\t\t\t\t\tx * plusSize - x * squareSize + dx * squareSize - squareSize,\r\n\t\t\t\t\ty * plusSize - y * squareSize - plusSize / 2\r\n\t\t\t\t]\r\n\t\t\t}).rect(plusShape).end();\r\n\r\n\t\t\t// Add an extra column on the right for tiling.\r\n\t\t\tif (x === 0) {\r\n\t\t\t\tthis.svg.group(styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\t4 * plusSize - x * squareSize + dx * squareSize - squareSize,\r\n\t\t\t\t\t\ty * plusSize - y * squareSize - plusSize / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t}).rect(plusShape).end();\r\n\t\t\t}\r\n\r\n\t\t\t// Add an extra row on the bottom that matches the first row, for tiling\r\n\t\t\tif (y === 0) {\r\n\t\t\t\tthis.svg.group(styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\tx * plusSize - x * squareSize + dx * squareSize - squareSize,\r\n\t\t\t\t\t\t4 * plusSize - y * squareSize - plusSize / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t}).rect(plusShape).end();\r\n\t\t\t}\r\n\r\n\t\t\t// Add an extra one at top-right and bottom-right, for tiling\r\n\t\t\tif (x === 0 && y === 0) {\r\n\t\t\t\tthis.svg.group(styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\t4 * plusSize - x * squareSize + dx * squareSize - squareSize,\r\n\t\t\t\t\t\t4 * plusSize - y * squareSize - plusSize / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t}).rect(plusShape).end();\r\n\t\t\t}\r\n\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nPattern.prototype.geoXes = function () {\r\n\tvar squareSize = map(hexVal(this.hash, 0), 0, 15, 10, 25);\r\n\tvar xShape     = buildPlusShape(squareSize);\r\n\tvar xSize      = squareSize * 3 * 0.943;\r\n\tvar dy, fill, i, opacity, styles, val, x, y;\r\n\r\n\tthis.svg.setWidth(xSize * 3);\r\n\tthis.svg.setHeight(xSize * 3);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 6; y++) {\r\n\t\tfor (x = 0; x < 6; x++) {\r\n\t\t\tval     = hexVal(this.hash, i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tdy      = x % 2 === 0 ? y * xSize - xSize * 0.5 : y * xSize - xSize * 0.5 + xSize / 4;\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tstyles = {\r\n\t\t\t\tfill: fill,\r\n\t\t\t\topacity: opacity\r\n\t\t\t};\r\n\r\n\t\t\tthis.svg.group(styles).transform({\r\n\t\t\t\ttranslate: [\r\n\t\t\t\t\tx * xSize / 2 - xSize / 2,\r\n\t\t\t\t\tdy - y * xSize / 2\r\n\t\t\t\t],\r\n\t\t\t\trotate: [\r\n\t\t\t\t\t45,\r\n\t\t\t\t\txSize / 2,\r\n\t\t\t\t\txSize / 2\r\n\t\t\t\t]\r\n\t\t\t}).rect(xShape).end();\r\n\r\n\t\t\t// Add an extra column on the right for tiling.\r\n\t\t\tif (x === 0) {\r\n\t\t\t\tthis.svg.group(styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\t6 * xSize / 2 - xSize / 2,\r\n\t\t\t\t\t\tdy - y * xSize / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [\r\n\t\t\t\t\t\t45,\r\n\t\t\t\t\t\txSize / 2,\r\n\t\t\t\t\t\txSize / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t}).rect(xShape).end();\r\n\t\t\t}\r\n\r\n\t\t\t// // Add an extra row on the bottom that matches the first row, for tiling.\r\n\t\t\tif (y === 0) {\r\n\t\t\t\tdy = x % 2 === 0 ? 6 * xSize - xSize / 2 : 6 * xSize - xSize / 2 + xSize / 4;\r\n\t\t\t\tthis.svg.group(styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\tx * xSize / 2 - xSize / 2,\r\n\t\t\t\t\t\tdy - 6 * xSize / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [\r\n\t\t\t\t\t\t45,\r\n\t\t\t\t\t\txSize / 2,\r\n\t\t\t\t\t\txSize / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t}).rect(xShape).end();\r\n\t\t\t}\r\n\r\n\t\t\t// These can hang off the bottom, so put a row at the top for tiling.\r\n\t\t\tif (y === 5) {\r\n\t\t\t\tthis.svg.group(styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\tx * xSize / 2 - xSize / 2,\r\n\t\t\t\t\t\tdy - 11 * xSize / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [\r\n\t\t\t\t\t\t45,\r\n\t\t\t\t\t\txSize / 2,\r\n\t\t\t\t\t\txSize / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t}).rect(xShape).end();\r\n\t\t\t}\r\n\r\n\t\t\t// Add an extra one at top-right and bottom-right, for tiling\r\n\t\t\tif (x === 0 && y === 0) {\r\n\t\t\t\tthis.svg.group(styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\t6 * xSize / 2 - xSize / 2,\r\n\t\t\t\t\t\tdy - 6 * xSize / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [\r\n\t\t\t\t\t\t45,\r\n\t\t\t\t\t\txSize / 2,\r\n\t\t\t\t\t\txSize / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t}).rect(xShape).end();\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nPattern.prototype.geoOverlappingCircles = function () {\r\n\tvar scale    = hexVal(this.hash, 0);\r\n\tvar diameter = map(scale, 0, 15, 25, 200);\r\n\tvar radius   = diameter / 2;\r\n\tvar circle, fill, i, opacity, styles, val, x, y;\r\n\r\n\tthis.svg.setWidth(radius * 6);\r\n\tthis.svg.setHeight(radius * 6);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 6; y++) {\r\n\t\tfor (x = 0; x < 6; x++) {\r\n\t\t\tval     = hexVal(this.hash, i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tstyles = {\r\n\t\t\t\tfill: fill,\r\n\t\t\t\topacity: opacity\r\n\t\t\t};\r\n\r\n\t\t\tthis.svg.circle(x * radius, y * radius, radius, styles);\r\n\r\n\t\t\t// Add an extra one at top-right, for tiling.\r\n\t\t\tif (x === 0) {\r\n\t\t\t\tthis.svg.circle(6 * radius, y * radius, radius, styles);\r\n\t\t\t}\r\n\r\n\t\t\t// // Add an extra row at the end that matches the first row, for tiling.\r\n\t\t\tif (y === 0) {\r\n\t\t\t\tthis.svg.circle(x * radius, 6 * radius, radius, styles);\r\n\t\t\t}\r\n\r\n\t\t\t// // Add an extra one at bottom-right, for tiling.\r\n\t\t\tif (x === 0 && y === 0) {\r\n\t\t\t\tthis.svg.circle(6 * radius, 6 * radius, radius, styles);\r\n\t\t\t}\r\n\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction buildOctogonShape(squareSize) {\r\n\tvar s = squareSize;\r\n\tvar c = s * 0.33;\r\n\treturn [\r\n\t\tc, 0,\r\n\t\ts - c, 0,\r\n\t\ts, c,\r\n\t\ts, s - c,\r\n\t\ts - c, s,\r\n\t\tc, s,\r\n\t\t0, s - c,\r\n\t\t0, c,\r\n\t\tc, 0\r\n\t].join(',');\r\n}\r\n\r\nPattern.prototype.geoOctogons = function () {\r\n\tvar squareSize = map(hexVal(this.hash, 0), 0, 15, 10, 60);\r\n\tvar tile       = buildOctogonShape(squareSize);\r\n\tvar fill, i, opacity, val, x, y;\r\n\r\n\tthis.svg.setWidth(squareSize * 6);\r\n\tthis.svg.setHeight(squareSize * 6);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 6; y++) {\r\n\t\tfor (x = 0; x < 6; x++) {\r\n\t\t\tval     = hexVal(this.hash, i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tthis.svg.polyline(tile, {\r\n\t\t\t\tfill: fill,\r\n\t\t\t\t'fill-opacity': opacity,\r\n\t\t\t\tstroke: STROKE_COLOR,\r\n\t\t\t\t'stroke-opacity': STROKE_OPACITY\r\n\t\t\t}).transform({\r\n\t\t\t\ttranslate: [\r\n\t\t\t\t\tx * squareSize,\r\n\t\t\t\t\ty * squareSize\r\n\t\t\t\t]\r\n\t\t\t});\r\n\r\n\t\t\ti += 1;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nPattern.prototype.geoSquares = function () {\r\n\tvar squareSize = map(hexVal(this.hash, 0), 0, 15, 10, 60);\r\n\tvar fill, i, opacity, val, x, y;\r\n\r\n\tthis.svg.setWidth(squareSize * 6);\r\n\tthis.svg.setHeight(squareSize * 6);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 6; y++) {\r\n\t\tfor (x = 0; x < 6; x++) {\r\n\t\t\tval     = hexVal(this.hash, i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tthis.svg.rect(x * squareSize, y * squareSize, squareSize, squareSize, {\r\n\t\t\t\tfill: fill,\r\n\t\t\t\t'fill-opacity': opacity,\r\n\t\t\t\tstroke: STROKE_COLOR,\r\n\t\t\t\t'stroke-opacity': STROKE_OPACITY\r\n\t\t\t});\r\n\r\n\t\t\ti += 1;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nPattern.prototype.geoConcentricCircles = function () {\r\n\tvar scale       = hexVal(this.hash, 0);\r\n\tvar ringSize    = map(scale, 0, 15, 10, 60);\r\n\tvar strokeWidth = ringSize / 5;\r\n\tvar fill, i, opacity, val, x, y;\r\n\r\n\tthis.svg.setWidth((ringSize + strokeWidth) * 6);\r\n\tthis.svg.setHeight((ringSize + strokeWidth) * 6);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 6; y++) {\r\n\t\tfor (x = 0; x < 6; x++) {\r\n\t\t\tval     = hexVal(this.hash, i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tthis.svg.circle(\r\n\t\t\t\tx * ringSize + x * strokeWidth + (ringSize + strokeWidth) / 2,\r\n\t\t\t\ty * ringSize + y * strokeWidth + (ringSize + strokeWidth) / 2,\r\n\t\t\t\tringSize / 2,\r\n\t\t\t\t{\r\n\t\t\t\t\tfill: 'none',\r\n\t\t\t\t\tstroke: fill,\r\n\t\t\t\t\topacity: opacity,\r\n\t\t\t\t\t'stroke-width': strokeWidth + 'px'\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tval     = hexVal(this.hash, 39 - i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tthis.svg.circle(\r\n\t\t\t\tx * ringSize + x * strokeWidth + (ringSize + strokeWidth) / 2,\r\n\t\t\t\ty * ringSize + y * strokeWidth + (ringSize + strokeWidth) / 2,\r\n\t\t\t\tringSize / 4,\r\n\t\t\t\t{\r\n\t\t\t\t\tfill: fill,\r\n\t\t\t\t\t'fill-opacity': opacity\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\ti += 1;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nPattern.prototype.geoOverlappingRings = function () {\r\n\tvar scale       = hexVal(this.hash, 0);\r\n\tvar ringSize    = map(scale, 0, 15, 10, 60);\r\n\tvar strokeWidth = ringSize / 4;\r\n\tvar fill, i, opacity, styles, val, x, y;\r\n\r\n\tthis.svg.setWidth(ringSize * 6);\r\n\tthis.svg.setHeight(ringSize * 6);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 6; y++) {\r\n\t\tfor (x = 0; x < 6; x++) {\r\n\t\t\tval     = hexVal(this.hash, i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tstyles = {\r\n\t\t\t\tfill: 'none',\r\n\t\t\t\tstroke: fill,\r\n\t\t\t\topacity: opacity,\r\n\t\t\t\t'stroke-width': strokeWidth + 'px'\r\n\t\t\t};\r\n\r\n\t\t\tthis.svg.circle(x * ringSize, y * ringSize, ringSize - strokeWidth / 2, styles);\r\n\r\n\t\t\t// Add an extra one at top-right, for tiling.\r\n\t\t\tif (x === 0) {\r\n\t\t\t\tthis.svg.circle(6 * ringSize, y * ringSize, ringSize - strokeWidth / 2, styles);\r\n\t\t\t}\r\n\r\n\t\t\tif (y === 0) {\r\n\t\t\t\tthis.svg.circle(x * ringSize, 6 * ringSize, ringSize - strokeWidth / 2, styles);\r\n\t\t\t}\r\n\r\n\t\t\tif (x === 0 && y === 0) {\r\n\t\t\t\tthis.svg.circle(6 * ringSize, 6 * ringSize, ringSize - strokeWidth / 2, styles);\r\n\t\t\t}\r\n\r\n\t\t\ti += 1;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction buildTriangleShape(sideLength, height) {\r\n\tvar halfWidth = sideLength / 2;\r\n\treturn [\r\n\t\thalfWidth, 0,\r\n\t\tsideLength, height,\r\n\t\t0, height,\r\n\t\thalfWidth, 0\r\n\t].join(',');\r\n}\r\n\r\nPattern.prototype.geoTriangles = function () {\r\n\tvar scale          = hexVal(this.hash, 0);\r\n\tvar sideLength     = map(scale, 0, 15, 15, 80);\r\n\tvar triangleHeight = sideLength / 2 * Math.sqrt(3);\r\n\tvar triangle       = buildTriangleShape(sideLength, triangleHeight);\r\n\tvar fill, i, opacity, rotation, styles, val, x, y;\r\n\r\n\tthis.svg.setWidth(sideLength * 3);\r\n\tthis.svg.setHeight(triangleHeight * 6);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 6; y++) {\r\n\t\tfor (x = 0; x < 6; x++) {\r\n\t\t\tval     = hexVal(this.hash, i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tstyles = {\r\n\t\t\t\tfill: fill,\r\n\t\t\t\t'fill-opacity': opacity,\r\n\t\t\t\tstroke: STROKE_COLOR,\r\n\t\t\t\t'stroke-opacity': STROKE_OPACITY\r\n\t\t\t};\r\n\r\n\t\t\tif (y % 2 === 0) {\r\n\t\t\t\trotation = x % 2 === 0 ? 180 : 0;\r\n\t\t\t} else {\r\n\t\t\t\trotation = x % 2 !== 0 ? 180 : 0;\r\n\t\t\t}\r\n\r\n\t\t\tthis.svg.polyline(triangle, styles).transform({\r\n\t\t\t\ttranslate: [\r\n\t\t\t\t\tx * sideLength * 0.5 - sideLength / 2,\r\n\t\t\t\t\ttriangleHeight * y\r\n\t\t\t\t],\r\n\t\t\t\trotate: [\r\n\t\t\t\t\trotation,\r\n\t\t\t\t\tsideLength / 2,\r\n\t\t\t\t\ttriangleHeight / 2\r\n\t\t\t\t]\r\n\t\t\t});\r\n\r\n\t\t\t// Add an extra one at top-right, for tiling.\r\n\t\t\tif (x === 0) {\r\n\t\t\t\tthis.svg.polyline(triangle, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\t6 * sideLength * 0.5 - sideLength / 2,\r\n\t\t\t\t\t\ttriangleHeight * y\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [\r\n\t\t\t\t\t\trotation,\r\n\t\t\t\t\t\tsideLength / 2,\r\n\t\t\t\t\t\ttriangleHeight / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\ti += 1;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction buildDiamondShape(width, height) {\r\n\treturn [\r\n\t\twidth / 2, 0,\r\n\t\twidth, height / 2,\r\n\t\twidth / 2, height,\r\n\t\t0, height / 2\r\n\t].join(',');\r\n}\r\n\r\nPattern.prototype.geoDiamonds = function () {\r\n\tvar diamondWidth  = map(hexVal(this.hash, 0), 0, 15, 10, 50);\r\n\tvar diamondHeight = map(hexVal(this.hash, 1), 0, 15, 10, 50);\r\n\tvar diamond       = buildDiamondShape(diamondWidth, diamondHeight);\r\n\tvar dx, fill, i, opacity, styles, val, x, y;\r\n\r\n\tthis.svg.setWidth(diamondWidth * 6);\r\n\tthis.svg.setHeight(diamondHeight * 3);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 6; y++) {\r\n\t\tfor (x = 0; x < 6; x++) {\r\n\t\t\tval     = hexVal(this.hash, i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tstyles = {\r\n\t\t\t\tfill: fill,\r\n\t\t\t\t'fill-opacity': opacity,\r\n\t\t\t\tstroke: STROKE_COLOR,\r\n\t\t\t\t'stroke-opacity': STROKE_OPACITY\r\n\t\t\t};\r\n\r\n\t\t\tdx = (y % 2 === 0) ? 0 : diamondWidth / 2;\r\n\r\n\t\t\tthis.svg.polyline(diamond, styles).transform({\r\n\t\t\t\ttranslate: [\r\n\t\t\t\t\tx * diamondWidth - diamondWidth / 2 + dx,\r\n\t\t\t\t\tdiamondHeight / 2 * y - diamondHeight / 2\r\n\t\t\t\t]\r\n\t\t\t});\r\n\r\n\t\t\t// Add an extra one at top-right, for tiling.\r\n\t\t\tif (x === 0) {\r\n\t\t\t\tthis.svg.polyline(diamond, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\t6 * diamondWidth - diamondWidth / 2 + dx,\r\n\t\t\t\t\t\tdiamondHeight / 2 * y - diamondHeight / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Add an extra row at the end that matches the first row, for tiling.\r\n\t\t\tif (y === 0) {\r\n\t\t\t\tthis.svg.polyline(diamond, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\tx * diamondWidth - diamondWidth / 2 + dx,\r\n\t\t\t\t\t\tdiamondHeight / 2 * 6 - diamondHeight / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Add an extra one at bottom-right, for tiling.\r\n\t\t\tif (x === 0 && y === 0) {\r\n\t\t\t\tthis.svg.polyline(diamond, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\t6 * diamondWidth - diamondWidth / 2 + dx,\r\n\t\t\t\t\t\tdiamondHeight / 2 * 6 - diamondHeight / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\ti += 1;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nPattern.prototype.geoNestedSquares = function () {\r\n\tvar blockSize  = map(hexVal(this.hash, 0), 0, 15, 4, 12);\r\n\tvar squareSize = blockSize * 7;\r\n\tvar fill, i, opacity, styles, val, x, y;\r\n\r\n\tthis.svg.setWidth((squareSize + blockSize) * 6 + blockSize * 6);\r\n\tthis.svg.setHeight((squareSize + blockSize) * 6 + blockSize * 6);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 6; y++) {\r\n\t\tfor (x = 0; x < 6; x++) {\r\n\t\t\tval     = hexVal(this.hash, i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tstyles = {\r\n\t\t\t\tfill: 'none',\r\n\t\t\t\tstroke: fill,\r\n\t\t\t\topacity: opacity,\r\n\t\t\t\t'stroke-width': blockSize + 'px'\r\n\t\t\t};\r\n\r\n\t\t\tthis.svg.rect(x * squareSize + x * blockSize * 2 + blockSize / 2,\r\n\t\t\t              y * squareSize + y * blockSize * 2 + blockSize / 2,\r\n\t\t\t              squareSize, squareSize, styles);\r\n\r\n\t\t\tval     = hexVal(this.hash, 39 - i);\r\n\t\t\topacity = fillOpacity(val);\r\n\t\t\tfill    = fillColor(val);\r\n\r\n\t\t\tstyles = {\r\n\t\t\t\tfill: 'none',\r\n\t\t\t\tstroke: fill,\r\n\t\t\t\topacity: opacity,\r\n\t\t\t\t'stroke-width': blockSize + 'px'\r\n\t\t\t};\r\n\r\n\t\t\tthis.svg.rect(x * squareSize + x * blockSize * 2 + blockSize / 2 + blockSize * 2,\r\n\t\t\t              y * squareSize + y * blockSize * 2 + blockSize / 2 + blockSize * 2,\r\n\t\t\t              blockSize * 3, blockSize * 3, styles);\r\n\r\n\t\t\ti += 1;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction buildRightTriangleShape(sideLength) {\r\n\treturn [\r\n\t\t0, 0,\r\n\t\tsideLength, sideLength,\r\n\t\t0, sideLength,\r\n\t\t0, 0\r\n\t].join(',');\r\n}\r\n\r\nfunction drawInnerMosaicTile(svg, x, y, triangleSize, vals) {\r\n\tvar triangle = buildRightTriangleShape(triangleSize);\r\n\tvar opacity  = fillOpacity(vals[0]);\r\n\tvar fill     = fillColor(vals[0]);\r\n\tvar styles   = {\r\n\t\tstroke: STROKE_COLOR,\r\n\t\t'stroke-opacity': STROKE_OPACITY,\r\n\t\t'fill-opacity': opacity,\r\n\t\tfill: fill\r\n\t};\r\n\r\n\tsvg.polyline(triangle, styles).transform({\r\n\t\ttranslate: [\r\n\t\t\tx + triangleSize,\r\n\t\t\ty\r\n\t\t],\r\n\t\tscale: [-1, 1]\r\n\t});\r\n\tsvg.polyline(triangle, styles).transform({\r\n\t\ttranslate: [\r\n\t\t\tx + triangleSize,\r\n\t\t\ty + triangleSize * 2\r\n\t\t],\r\n\t\tscale: [1, -1]\r\n\t});\r\n\r\n\topacity = fillOpacity(vals[1]);\r\n\tfill    = fillColor(vals[1]);\r\n\tstyles  = {\r\n\t\tstroke: STROKE_COLOR,\r\n\t\t'stroke-opacity': STROKE_OPACITY,\r\n\t\t'fill-opacity': opacity,\r\n\t\tfill: fill\r\n\t};\r\n\r\n\tsvg.polyline(triangle, styles).transform({\r\n\t\ttranslate: [\r\n\t\t\tx + triangleSize,\r\n\t\t\ty + triangleSize * 2\r\n\t\t],\r\n\t\tscale: [-1, -1]\r\n\t});\r\n\tsvg.polyline(triangle, styles).transform({\r\n\t\ttranslate: [\r\n\t\t\tx + triangleSize,\r\n\t\t\ty\r\n\t\t],\r\n\t\tscale: [1, 1]\r\n\t});\r\n}\r\n\r\nfunction drawOuterMosaicTile(svg, x, y, triangleSize, val) {\r\n\tvar opacity  = fillOpacity(val);\r\n\tvar fill     = fillColor(val);\r\n\tvar triangle = buildRightTriangleShape(triangleSize);\r\n\tvar styles   = {\r\n\t\tstroke: STROKE_COLOR,\r\n\t\t'stroke-opacity': STROKE_OPACITY,\r\n\t\t'fill-opacity': opacity,\r\n\t\tfill: fill\r\n\t};\r\n\r\n\tsvg.polyline(triangle, styles).transform({\r\n\t\ttranslate: [\r\n\t\t\tx,\r\n\t\t\ty + triangleSize\r\n\t\t],\r\n\t\tscale: [1, -1]\r\n\t});\r\n\tsvg.polyline(triangle, styles).transform({\r\n\t\ttranslate: [\r\n\t\t\tx + triangleSize * 2,\r\n\t\t\ty + triangleSize\r\n\t\t],\r\n\t\tscale: [-1, -1]\r\n\t});\r\n\tsvg.polyline(triangle, styles).transform({\r\n\t\ttranslate: [\r\n\t\t\tx,\r\n\t\t\ty + triangleSize\r\n\t\t],\r\n\t\tscale: [1, 1]\r\n\t});\r\n\tsvg.polyline(triangle, styles).transform({\r\n\t\ttranslate: [\r\n\t\t\tx + triangleSize * 2,\r\n\t\t\ty + triangleSize\r\n\t\t],\r\n\t\tscale: [-1, 1]\r\n\t});\r\n}\r\n\r\nPattern.prototype.geoMosaicSquares = function () {\r\n\tvar triangleSize = map(hexVal(this.hash, 0), 0, 15, 15, 50);\r\n\tvar i, x, y;\r\n\r\n\tthis.svg.setWidth(triangleSize * 8);\r\n\tthis.svg.setHeight(triangleSize * 8);\r\n\r\n\ti = 0;\r\n\tfor (y = 0; y < 4; y++) {\r\n\t\tfor (x = 0; x < 4; x++) {\r\n\t\t\tif (x % 2 === 0) {\r\n\t\t\t\tif (y % 2 === 0) {\r\n\t\t\t\t\tdrawOuterMosaicTile(this.svg,\r\n\t\t\t\t\t\tx * triangleSize * 2,\r\n\t\t\t\t\t\ty * triangleSize * 2,\r\n\t\t\t\t\t\ttriangleSize,\r\n\t\t\t\t\t\thexVal(this.hash, i)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdrawInnerMosaicTile(this.svg,\r\n\t\t\t\t\t\tx * triangleSize * 2,\r\n\t\t\t\t\t\ty * triangleSize * 2,\r\n\t\t\t\t\t\ttriangleSize,\r\n\t\t\t\t\t\t[hexVal(this.hash, i), hexVal(this.hash, i + 1)]\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (y % 2 === 0) {\r\n\t\t\t\t\tdrawInnerMosaicTile(this.svg,\r\n\t\t\t\t\t\tx * triangleSize * 2,\r\n\t\t\t\t\t\ty * triangleSize * 2,\r\n\t\t\t\t\t\ttriangleSize,\r\n\t\t\t\t\t\t[hexVal(this.hash, i), hexVal(this.hash, i + 1)]\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdrawOuterMosaicTile(this.svg,\r\n\t\t\t\t\t\tx * triangleSize * 2,\r\n\t\t\t\t\t\ty * triangleSize * 2,\r\n\t\t\t\t\t\ttriangleSize,\r\n\t\t\t\t\t\thexVal(this.hash, i)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ti += 1;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nPattern.prototype.geoPlaid = function () {\r\n\tvar height = 0;\r\n\tvar width  = 0;\r\n\tvar fill, i, opacity, space, stripeHeight, stripeWidth, val;\r\n\r\n\t// Horizontal stripes\r\n\ti = 0;\r\n\twhile (i < 36) {\r\n\t\tspace   = hexVal(this.hash, i);\r\n\t\theight += space + 5;\r\n\r\n\t\tval          = hexVal(this.hash, i + 1);\r\n\t\topacity      = fillOpacity(val);\r\n\t\tfill         = fillColor(val);\r\n\t\tstripeHeight = val + 5;\r\n\r\n\t\tthis.svg.rect(0, height, '100%', stripeHeight, {\r\n\t\t\topacity: opacity,\r\n\t\t\tfill: fill\r\n\t\t});\r\n\r\n\t\theight += stripeHeight;\r\n\t\ti += 2;\r\n\t}\r\n\r\n\t// Vertical stripes\r\n\ti = 0;\r\n\twhile (i < 36) {\r\n\t\tspace  = hexVal(this.hash, i);\r\n\t\twidth += space + 5;\r\n\r\n\t\tval         = hexVal(this.hash, i + 1);\r\n\t\topacity     = fillOpacity(val);\r\n\t\tfill        = fillColor(val);\r\n\t\tstripeWidth = val + 5;\r\n\r\n\t\tthis.svg.rect(width, 0, stripeWidth, '100%', {\r\n\t\t\topacity: opacity,\r\n\t\t\tfill: fill\r\n\t\t});\r\n\r\n\t\twidth += stripeWidth;\r\n\t\ti += 2;\r\n\t}\r\n\r\n\tthis.svg.setWidth(width);\r\n\tthis.svg.setHeight(height);\r\n};\r\n\r\nfunction buildRotatedTriangleShape(sideLength, triangleWidth) {\r\n\tvar halfHeight = sideLength / 2;\r\n\treturn [\r\n\t\t0, 0,\r\n\t\ttriangleWidth, halfHeight,\r\n\t\t0, sideLength,\r\n\t\t0, 0\r\n\t].join(',');\r\n}\r\n\r\nPattern.prototype.geoTessellation = function () {\r\n\t// 3.4.6.4 semi-regular tessellation\r\n\tvar sideLength     = map(hexVal(this.hash, 0), 0, 15, 5, 40);\r\n\tvar hexHeight      = sideLength * Math.sqrt(3);\r\n\tvar hexWidth       = sideLength * 2;\r\n\tvar triangleHeight = sideLength / 2 * Math.sqrt(3);\r\n\tvar triangle       = buildRotatedTriangleShape(sideLength, triangleHeight);\r\n\tvar tileWidth      = sideLength * 3 + triangleHeight * 2;\r\n\tvar tileHeight     = (hexHeight * 2) + (sideLength * 2);\r\n\tvar fill, i, opacity, styles, val;\r\n\r\n\tthis.svg.setWidth(tileWidth);\r\n\tthis.svg.setHeight(tileHeight);\r\n\r\n\tfor (i = 0; i < 20; i++) {\r\n\t\tval     = hexVal(this.hash, i);\r\n\t\topacity = fillOpacity(val);\r\n\t\tfill    = fillColor(val);\r\n\r\n\t\tstyles  = {\r\n\t\t\tstroke: STROKE_COLOR,\r\n\t\t\t'stroke-opacity': STROKE_OPACITY,\r\n\t\t\tfill: fill,\r\n\t\t\t'fill-opacity': opacity,\r\n\t\t\t'stroke-width': 1\r\n\t\t};\r\n\r\n\t\tswitch (i) {\r\n\t\t\tcase 0: // All 4 corners\r\n\t\t\t\tthis.svg.rect(-sideLength / 2, -sideLength / 2, sideLength, sideLength, styles);\r\n\t\t\t\tthis.svg.rect(tileWidth - sideLength / 2, -sideLength / 2, sideLength, sideLength, styles);\r\n\t\t\t\tthis.svg.rect(-sideLength / 2, tileHeight - sideLength / 2, sideLength, sideLength, styles);\r\n\t\t\t\tthis.svg.rect(tileWidth - sideLength / 2, tileHeight - sideLength / 2, sideLength, sideLength, styles);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1: // Center / top square\r\n\t\t\t\tthis.svg.rect(hexWidth / 2 + triangleHeight, hexHeight / 2, sideLength, sideLength, styles);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2: // Side squares\r\n\t\t\t\tthis.svg.rect(-sideLength / 2, tileHeight / 2 - sideLength / 2, sideLength, sideLength, styles);\r\n\t\t\t\tthis.svg.rect(tileWidth - sideLength / 2, tileHeight / 2 - sideLength / 2, sideLength, sideLength, styles);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3: // Center / bottom square\r\n\t\t\t\tthis.svg.rect(hexWidth / 2 + triangleHeight, hexHeight * 1.5 + sideLength, sideLength, sideLength, styles);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4: // Left top / bottom triangle\r\n\t\t\t\tthis.svg.polyline(triangle, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\tsideLength / 2,\r\n\t\t\t\t\t\t-sideLength / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\tsideLength / 2,\r\n\t\t\t\t\t\ttriangleHeight / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\t\t\t\tthis.svg.polyline(triangle, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\tsideLength / 2,\r\n\t\t\t\t\t\ttileHeight - -sideLength / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\tsideLength / 2,\r\n\t\t\t\t\t\ttriangleHeight / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\tscale: [1, -1]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5: // Right top / bottom triangle\r\n\t\t\t\tthis.svg.polyline(triangle, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\ttileWidth - sideLength / 2,\r\n\t\t\t\t\t\t-sideLength / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\tsideLength / 2,\r\n\t\t\t\t\t\ttriangleHeight / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\tscale: [-1, 1]\r\n\t\t\t\t});\r\n\t\t\t\tthis.svg.polyline(triangle, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\ttileWidth - sideLength / 2,\r\n\t\t\t\t\t\ttileHeight + sideLength / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\tsideLength / 2,\r\n\t\t\t\t\t\ttriangleHeight / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\tscale: [-1, -1]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6: // Center / top / right triangle\r\n\t\t\t\tthis.svg.polyline(triangle, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\ttileWidth / 2 + sideLength / 2,\r\n\t\t\t\t\t\thexHeight / 2\r\n\t\t\t\t\t]});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 7: // Center / top / left triangle\r\n\t\t\t\tthis.svg.polyline(triangle, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\ttileWidth - tileWidth / 2 - sideLength / 2,\r\n\t\t\t\t\t\thexHeight / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\tscale: [-1, 1]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 8: // Center / bottom / right triangle\r\n\t\t\t\tthis.svg.polyline(triangle, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\ttileWidth / 2 + sideLength / 2,\r\n\t\t\t\t\t\ttileHeight - hexHeight / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\tscale: [1, -1]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 9: // Center / bottom / left triangle\r\n\t\t\t\tthis.svg.polyline(triangle, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\ttileWidth - tileWidth / 2 - sideLength / 2,\r\n\t\t\t\t\t\ttileHeight - hexHeight / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\tscale: [-1, -1]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 10: // Left / middle triangle\r\n\t\t\t\tthis.svg.polyline(triangle, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\tsideLength / 2,\r\n\t\t\t\t\t\ttileHeight / 2 - sideLength / 2\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 11: // Right // middle triangle\r\n\t\t\t\tthis.svg.polyline(triangle, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\ttileWidth - sideLength / 2,\r\n\t\t\t\t\t\ttileHeight / 2 - sideLength / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\tscale: [-1, 1]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 12: // Left / top square\r\n\t\t\t\tthis.svg.rect(0, 0, sideLength, sideLength, styles).transform({\r\n\t\t\t\t\ttranslate: [sideLength / 2, sideLength / 2],\r\n\t\t\t\t\trotate: [-30, 0, 0]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 13: // Right / top square\r\n\t\t\t\tthis.svg.rect(0, 0, sideLength, sideLength, styles).transform({\r\n\t\t\t\t\tscale: [-1, 1],\r\n\t\t\t\t\ttranslate: [-tileWidth + sideLength / 2, sideLength / 2],\r\n\t\t\t\t\trotate: [-30, 0, 0]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 14: // Left / center-top square\r\n\t\t\t\tthis.svg.rect(0, 0, sideLength, sideLength, styles).transform({\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\tsideLength / 2,\r\n\t\t\t\t\t\ttileHeight / 2 - sideLength / 2 - sideLength\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [30, 0, sideLength]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 15: // Right / center-top square\r\n\t\t\t\tthis.svg.rect(0, 0, sideLength, sideLength, styles).transform({\r\n\t\t\t\t\tscale: [-1, 1],\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\t-tileWidth + sideLength / 2,\r\n\t\t\t\t\t\ttileHeight / 2 - sideLength / 2  - sideLength\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [30, 0, sideLength]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 16: // Left / center-top square\r\n\t\t\t\tthis.svg.rect(0, 0, sideLength, sideLength, styles).transform({\r\n\t\t\t\t\tscale: [1, -1],\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\tsideLength / 2,\r\n\t\t\t\t\t\t-tileHeight + tileHeight / 2 - sideLength / 2 - sideLength\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [30, 0, sideLength]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 17: // Right / center-bottom square\r\n\t\t\t\tthis.svg.rect(0, 0, sideLength, sideLength, styles).transform({\r\n\t\t\t\t\tscale: [-1, -1],\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\t-tileWidth + sideLength / 2,\r\n\t\t\t\t\t\t-tileHeight + tileHeight / 2 - sideLength / 2 - sideLength\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [30, 0, sideLength]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 18: // Left / bottom square\r\n\t\t\t\tthis.svg.rect(0, 0, sideLength, sideLength, styles).transform({\r\n\t\t\t\t\tscale: [1, -1],\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\tsideLength / 2,\r\n\t\t\t\t\t\t-tileHeight + sideLength / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [-30, 0, 0]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 19: // Right / bottom square\r\n\t\t\t\tthis.svg.rect(0, 0, sideLength, sideLength, styles).transform({\r\n\t\t\t\t\tscale: [-1, -1],\r\n\t\t\t\t\ttranslate: [\r\n\t\t\t\t\t\t-tileWidth + sideLength / 2,\r\n\t\t\t\t\t\t-tileHeight + sideLength / 2\r\n\t\t\t\t\t],\r\n\t\t\t\t\trotate: [-30, 0, 0]\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n};\r\n", "(function ($) {\r\n\r\n'use strict';\r\n\r\nvar Pattern = require('./lib/pattern');\r\n\r\n/*\r\n * Normalize arguments, if not given, to:\r\n * string: (new Date()).toString()\r\n * options: {}\r\n */\r\nfunction optArgs(cb) {\r\n\treturn function (string, options) {\r\n\t\tif (typeof string === 'object') {\r\n\t\t\toptions = string;\r\n\t\t\tstring = null;\r\n\t\t}\r\n\t\tif (string === null || string === undefined) {\r\n\t\t\tstring = (new Date()).toString();\r\n\t\t}\r\n\t\tif (!options) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\treturn cb.call(this, string, options);\r\n\t};\r\n}\r\n\r\nvar GeoPattern = module.exports = {\r\n\tgenerate: optArgs(function (string, options) {\r\n\t\treturn new Pattern(string, options);\r\n\t})\r\n};\r\n\r\nif ($) {\r\n\r\n\t// If jQuery, add plugin\r\n\t$.fn.geopattern = optArgs(function (string, options) {\r\n\t\treturn this.each(function () {\r\n\t\t\tvar titleSha = $(this).attr('data-title-sha');\r\n\t\t\tif (titleSha) {\r\n\t\t\t\toptions = $.extend({\r\n\t\t\t\t\thash: titleSha\r\n\t\t\t\t}, options);\r\n\t\t\t}\r\n\t\t\tvar pattern = GeoPattern.generate(string, options);\r\n\t\t\t$(this).css('background-image', pattern.toDataUrl());\r\n\t\t});\r\n\t});\r\n\r\n}\r\n\r\n}(typeof jQuery !== 'undefined' ? jQuery : null));\r\n"],
  "mappings": "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",
  "names": ["p", "q"]
}
